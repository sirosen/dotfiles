#!/bin/bash
set -e

cd "$(dirname "$0")"

binlink () {
  if [ ! -f "$1" ]; then
    ln -s "npm-packages/bin/$1" "$1"
  fi
}

npm install -g \
  openapi3-generator \
  stylelint stylelint-config-standard \
  jsonlint \
  ibm-openapi-validator \
  @stoplight/spectral \
  lighthouse

for x in openapi3-generator stylelint jsonlint lint-openapi spectral lighthouse; do
  binlink "$x"
done
